<html lang="en">
<head>
    <meta charset="UTF-8"> <!-- Character encoding -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ensures responsive design -->
    <title>Emoji Hunt: Shadow Edition</title> <!-- Page title -->

    <style>
        body {
            margin: 0; /* Remove default margin */
            overflow: hidden; /* Prevents scrolling */
            font-family: Arial, sans-serif; /* Set font */
            animation: gradient 15s ease infinite; /* Animated gradient background */
            background: linear-gradient(270deg, #1a1a1a, #4e4e4e, #1a1a1a); /* Gradient colors */
            background-size: 400% 400%; /* Scales the gradient for animation */
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; } /* Start position of gradient */
            50% { background-position: 100% 50%; } /* Midway point */
            100% { background-position: 0% 50%; } /* End position */
        }

        #menu {
            position: absolute; /* Absolute positioning */
            top: 50%; /* Center vertically */
            left: 50%; /* Center horizontally */
            transform: translate(-50%, -50%); /* Adjust for exact center */
            text-align: center; /* Center text */
        }

        #menu button {
            background-color: rgba(255, 255, 255, 0.2); /* Semi-transparent background */
            border: none; /* Remove border */
            color: #fff; /* White text */
            padding: 15px 30px; /* Padding for button */
            margin: 10px; /* Space between buttons */
            cursor: pointer; /* Pointer cursor */
            transition: background-color 0.3s, transform 0.3s; /* Smooth hover effect */
        }

        #menu button:hover {
            background-color: rgba(255, 255, 255, 0.5); /* Brighter background on hover */
            transform: scale(1.05); /* Slight zoom on hover */
        }

        .emoji {
            position: absolute; /* Absolute positioning */
            opacity: 0.025; /* Initial opacity */
            font-size: 40px; /* Font size of emojis */
            pointer-events: auto; /* Allow interaction */
            transition: opacity 0.3s; /* Smooth transition */
        }

        .emoji:hover {
            opacity: 1; /* Fully visible on hover */
        }

        #score, #highscore, #timer {
            position: absolute; /* Absolute positioning */
            top: 10px; /* Position from top */
            font-size: 24px; /* Font size */
            z-index: 10; /* Ensure on top */
        }

        #score {
            left: 10px; /* Position score on the left */
        }

        #highscore {
            left: 150px; /* Space for high score */
        }    

        #timer {
            right: 10px; /* Position timer on the right */
        }

        /* Toast notification styling */
        .toast {
            position: fixed; /* Fixed position on screen */
            bottom: 20px; /* Space from bottom */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Adjust for exact center */
            background-color: rgba(0, 0, 0, 0.7); /* Dark background */
            color: white; /* White text */
            padding: 15px 30px; /* Padding inside the toast */
            border-radius: 10px; /* Rounded corners */
            font-size: 18px; /* Font size */
            opacity: 0; /* Initially hidden */
            transition: opacity 0.5s ease, bottom 0.5s ease; /* Smooth fade-in effect */
            z-index: 100; /* On top of other elements */
        }

        .toast.show {
            opacity: 1; /* Visible when class 'show' is added */
            bottom: 40px; /* Move toast up when visible */
        }
    </style>
</head>
<body>

<div id="menu">
    <h1>Emoji Hunt: Shadow Edition</h1> <!-- Game title -->
    <button onclick="startGame()">Start Game</button> <!-- Start button -->
</div>

<div id="score">Score: 0</div> <!-- Display current score -->
<div id="highscore">High Score: 0</div> <!-- Display high score -->
<div id="timer">Time: 60</div> <!-- Display remaining time -->

<div id="toast" class="toast"></div> <!-- Toast container -->

<script>
    let score = 0; /* Initialize score */
    let timer; /* Timer variable */
    let gameActive = false; /* Game state */
    let highScore = localStorage.getItem('highScore') ? parseInt(localStorage.getItem('highScore')) : 0; /* Retrieve high score from localStorage */

    document.getElementById('highscore').innerText = 'High Score: ' + highScore; /* Display high score */

    function startGame() {
        score = 0; /* Reset score */
        gameActive = true; /* Start the game */
        document.getElementById('score').innerText = 'Score: ' + score; /* Update score display */
        document.getElementById('timer').innerText = 'Time: 60'; /* Reset timer display */
        document.getElementById('menu').style.display = 'none'; /* Hide menu */
        spawnEmoji(); /* Start spawning emojis */
        startTimer(); /* Start the timer */
    }

    function spawnEmoji() {
        if (!gameActive) return; /* If game is not active, stop spawning */

        const emojis = ['😊', '😎', '🎉', '❤️', '🚀', '🌟', '😂', '🥳', '🎈', '🌈', '🐶', '🐱', '🦄', '🌻', '🍕', '🍉', '🎶', '⚡', '🔥', '💎', '🌍']; /* Emoji options */
        const emoji = document.createElement('div'); /* Create new emoji element */
        emoji.className = 'emoji'; /* Assign emoji class */
        emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)]; /* Randomly select emoji */

        const x = Math.random() * (window.innerWidth - 50); /* Random horizontal position */
        const y = Math.random() * (window.innerHeight - 50); /* Random vertical position */
        emoji.style.left = `${x}px`; /* Apply horizontal position */
        emoji.style.top = `${y}px`; /* Apply vertical position */

        document.body.appendChild(emoji); /* Add emoji to the body */

        emoji.addEventListener('click', () => { /* Add click event listener */
            score++; /* Increment score */
            document.getElementById('score').innerText = 'Score: ' + score; /* Update score display */
            document.body.removeChild(emoji); /* Remove clicked emoji */
            spawnEmoji(); /* Spawn another emoji */
        });

        setTimeout(() => {
            if (document.body.contains(emoji)) { /* Check if emoji still exists */
                document.body.removeChild(emoji); /* Remove emoji if time is up */
                spawnEmoji(); /* Spawn another emoji */
            }
        }, 3000); /* Emojis disappear after 3 seconds */
    }

    function startTimer() {
        let timeLeft = 60; /* Start timer at 60 seconds */
        timer = setInterval(() => {
            if (timeLeft <= 0) { /* If time runs out */
                clearInterval(timer); /* Stop the timer */
                gameActive = false; /* End the game */
                showToast('Time\'s up! Your score is: ' + score); /* Show final score in toast */
                if (score > highScore) { /* Check if new high score */
                    highScore = score; /* Update high score */
                    localStorage.setItem('highScore', highScore); /* Save to localStorage */
                    document.getElementById('highscore').innerText = 'High Score: ' + highScore; /* Update high score display */
                }
                document.getElementById('menu').style.display = 'block'; /* Show the menu */
            } else {
                timeLeft--; /* Decrease time */
                document.getElementById('timer').innerText = 'Time: ' + timeLeft; /* Update timer display */
            }
        }, 1000); /* Update every second */
    }

    function showToast(message) {
        const toast = document.getElementById('toast'); /* Get toast element */
        toast.innerText = message; /* Set toast message */
        toast.classList.add('show'); /* Show the toast */

        setTimeout(() => {
            toast.classList.remove('show'); /* Hide the toast after 3 seconds */
        }, 3000);
    }
</script>

</body>
</html>
